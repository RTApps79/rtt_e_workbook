<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Patient's Journey in Radiation Therapy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Feedback styles consistent with other updated lessons */
        .selected-option { background-color: #e0f2fe; /* Tailwind sky-100 */ border-color: #38bdf8; /* Tailwind sky-400 */ }
        .correct-answer-feedback { background-color: #dcfce7 !important; /* Tailwind green-100 */ border-left: 4px solid #22c55e !important; /* Tailwind green-500 */ }
        .incorrect-answer-feedback { background-color: #fee2e2 !important; /* Tailwind red-100 */ border-left: 4px solid #ef4444 !important; /* Tailwind red-500 */ }
        .correct-indicator::after { content: '✔ Correct'; color: #16a34a; /* Tailwind green-600 */ font-weight: bold; margin-left: 10px; }
        .incorrect-indicator::after { content: '✖ Incorrect'; color: #dc2626; /* Tailwind red-600 */ font-weight: bold; margin-left: 10px; }
        .correct-option-text { font-weight: bold; color: #15803d; /* Tailwind green-700 */ }

        .highlight { /* Tailwind purple theme for highlight */
            background-color: #ede9fe; /* purple-100 */
            color: #5b21b6; /* purple-700 */
            padding: 0.1em 0.3em;
            border-radius: 0.25rem;
            font-weight: 500;
        }
        .note { /* Tailwind slate theme for note */
            font-size: 0.9em; font-style: italic; color: #4b5563; /* slate-600 */
            background-color: #f3f4f6; /* slate-100 */
            padding: 10px; border-left: 3px solid #6b7280; /* slate-500 */
            margin: 15px 0; border-radius: 4px;
        }
         .activity-link-button { /* Green button for activities */
            display: inline-block; background-color: #22c55e; /* green-500 */
            color: white; padding: 12px 25px; text-align: center;
            text-decoration: none; border-radius: 0.375rem; /* rounded-lg */
            font-size: 1.1em; font-weight: 500; /* medium */
            margin-top: 15px; transition: background-color 0.2s;
        }
        .activity-link-button:hover { background-color: #16a34a; /* green-600 */ }

        /* Print Styles */
        @media print {
            body { background-color: #fff; margin: 10px; padding: 0; font-size: 10pt; }
            .main-content-wrapper, .flip-lesson-container { box-shadow: none !important; border: none !important; width: 100%; max-width: 100%; padding: 5px; margin-bottom: 15px;}
            .lesson-navigation-bar, .check-page-answers-button, .nav-links-header, .print-button-container, .activity-link-button { display: none !important; }
            .lesson-page { page-break-inside: avoid; border: 1px solid #eee !important; }
            .interactive-question-block {background: #fff !important; border: 1px solid #ccc !important; }
            h1, h2, h3, h4 { color: #000 !important; border-color: #000 !important; margin-bottom: 10px; padding-bottom: 3px;}
            .explanation-text { display: none !important; }
            a {text-decoration: none; color: #000 !important;}
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 flex flex-col min-h-screen">

    <header class="bg-white shadow-md sticky top-0 z-50 nav-links-header">
        <div class="container mx-auto px-6 py-3 flex flex-col sm:flex-row justify-between items-center">
            <h1 class="text-xl font-bold text-purple-700 mb-2 sm:mb-0">The Patient's Journey in RT</h1>
            <div class="flex flex-wrap justify-center sm:justify-end space-x-2">
                <a href="index.html" class="text-xs sm:text-sm bg-purple-500 text-white font-medium py-2 px-3 rounded-lg hover:bg-purple-600 transition-colors duration-300 mb-1 sm:mb-0">
                    &larr; Back to Patient Care Menu
                </a>
                <a href="../index.html" class="text-xs sm:text-sm bg-slate-500 text-white font-medium py-2 px-3 rounded-lg hover:bg-slate-600 transition-colors duration-300 mb-1 sm:mb-0">
                    &larr; Back to Main Workbook
                </a>
            </div>
        </div>
    </header>

    <main class="container mx-auto max-w-4xl px-4 sm:px-6 py-8 flex-grow main-content-wrapper">
        <div class="bg-white p-6 sm:p-8 rounded-xl shadow-xl">
            <h1 class="text-3xl font-bold text-purple-700 mb-6 text-center border-b-2 border-purple-300 pb-4">The Patient's Journey in Radiation Therapy</h1>

            <div class="flip-lesson-container bg-purple-50 p-4 sm:p-6 rounded-lg shadow-md mb-8 border border-purple-200">
                <h2 class="text-2xl font-semibold text-purple-600 mb-4">Interactive Lesson Overview</h2>

                <div id="lesson-page-1" class="lesson-page active bg-white p-4 sm:p-5 rounded-md border border-purple-200 min-h-[480px]">
                    <h3 class="text-xl font-semibold text-purple-700 mb-3">Page 1: Understanding the Path</h3>
                    <div class="mb-4 p-3 bg-purple-100 rounded-md border border-purple-200">
                        <h4 class="text-lg font-medium text-purple-600 mb-1">Purpose: Why This Matters</h4>
                        <p class="text-sm text-slate-600">This lesson outlines the typical process a patient undergoes when receiving radiation therapy, from the initial consultation through to post-treatment follow-up. Understanding this journey is vital for appreciating the patient's experience and the coordinated efforts of the oncology team.</p>
                    </div>
                    <div class="mb-4 p-3 bg-purple-100 rounded-md border border-purple-200">
                        <h4 class="text-lg font-medium text-purple-600 mb-1">Task: What You Will Do</h4>
                        <p class="text-sm text-slate-600">You will learn about each distinct stage in the radiation therapy workflow, including the key activities and team members involved at each step.</p>
                    </div>
                    <div class="p-3 bg-purple-100 rounded-md border border-purple-200">
                        <h4 class="text-lg font-medium text-purple-600 mb-1">Criteria for Success: How You'll Know You've Learned</h4>
                        <p class="text-sm text-slate-600">By the end of this lesson, you should be able to:
                            <ul class="list-disc list-inside text-slate-600 space-y-1 text-xs ml-4">
                                <li>List the main stages of the patient journey in radiation therapy in chronological order.</li>
                                <li>Describe the primary goal of each stage.</li>
                                <li>Identify key healthcare professionals involved at different points in the journey.</li>
                            </ul>
                        </p>
                    </div>
                    <p class="mt-4 text-slate-700">The patient's journey through radiation therapy is a structured, multi-step process involving a dedicated team of professionals.</p>
                </div>

                <div id="lesson-page-2" class="lesson-page bg-white p-4 sm:p-5 rounded-md border border-purple-200 min-h-[480px]">
                    <h3 class="text-xl font-semibold text-purple-700 mb-3">Page 2: Stage 1 - The Consultation</h3>
                    <p class="text-slate-700">The journey begins with a <span class="highlight">Consultation</span> with a Radiation Oncologist. This is a critical first step.</p>
                    <h4 class="text-lg font-medium text-purple-600 my-2">Key Activities during Consultation:</h4>
                    <ul class="list-disc list-inside text-slate-700 space-y-1 text-sm mb-4">
                        <li><strong>Patient Evaluation:</strong> Review of medical history, diagnostic tests, and physical examination.</li>
                        <li><strong>Discussion of Treatment:</strong> If RT is appropriate, discussion of benefits, risks, side effects, goals, and process.</li>
                        <li><strong>Questions & Answers:</strong> Patients are encouraged to ask questions.</li>
                        <li><strong>Consent Process:</strong> Initiation of informed consent.</li>
                    </ul>
                    <p class="note">This meeting establishes the patient-physician relationship.</p>
                    <div class="interactive-question-block mt-6 bg-purple-50 p-3 rounded-md border border-purple-200" id="q_page2_1">
                        <p class="question-text font-semibold text-slate-700 mb-2">Quick Check: What is a primary outcome of the initial consultation?</p>
                        <label class="block mb-1 p-2 rounded hover:bg-purple-100 cursor-pointer"><input type="radio" name="q_page2_1_ans" value="A" class="mr-2 accent-purple-600"> First radiation treatment is given.</label>
                        <label class="block mb-1 p-2 rounded hover:bg-purple-100 cursor-pointer"><input type="radio" name="q_page2_1_ans" value="B" class="mr-2 accent-purple-600"> Determination of RT appropriateness & plan discussion.</label>
                        <label class="block mb-1 p-2 rounded hover:bg-purple-100 cursor-pointer"><input type="radio" name="q_page2_1_ans" value="C" class="mr-2 accent-purple-600"> Tumor is surgically removed.</label>
                        <div class="explanation-text text-sm text-slate-600 mt-2 p-2 bg-purple-50 rounded" style="display:none;">Correct! Consultation focuses on evaluation and discussing the RT plan.</div>
                    </div>
                    <button class="check-page-answers-button mt-3 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors text-sm" onclick="checkPageAnswer('q_page2_1', 'B')">Check Answer</button>
                </div>
                
                <div id="lesson-page-3" class="lesson-page bg-white p-4 sm:p-5 rounded-md border border-purple-200 min-h-[480px]">
                    <h3 class="text-xl font-semibold text-purple-700 mb-3">Page 3: Stage 2 - Simulation (The Planning Blueprint)</h3>
                    <p class="text-slate-700">Next is <span class="highlight">Simulation</span>, where the treatment area is precisely defined and mapped.</p>
                    <h4 class="text-lg font-medium text-purple-600 my-2">Key Activities during Simulation:</h4>
                    <ul class="list-disc list-inside text-slate-700 space-y-1 text-sm mb-4">
                        <li><strong>Patient Positioning:</strong> Carefully positioned on a CT simulator couch in the treatment position.</li>
                        <li><strong>Immobilization Devices:</strong> Custom or standard devices (masks, molds) created/used for reproducibility.</li>
                        <li><strong>CT Scanning:</strong> Images acquired in treatment position for planning.</li>
                        <li><strong>Marking:</strong> Reference marks (tattoos/ink) placed on skin/device for daily alignment.</li>
                    </ul>
                    <p class="note">Simulation creates the "blueprint" for accurate, reproducible treatment.</p>
                     </div>

                <div id="lesson-page-4" class="lesson-page bg-white p-4 sm:p-5 rounded-md border border-purple-200 min-h-[480px]">
                    <h3 class="text-xl font-semibold text-purple-700 mb-3">Page 4: Stage 3 - Dosimetry Planning (Designing the Treatment)</h3>
                    <p class="text-slate-700">After simulation, <span class="highlight">Dosimetry Planning</span> begins, creating an individualized plan.</p>
                    <h4 class="text-lg font-medium text-purple-600 my-2">Key Team Members & Activities:</h4>
                    <ul class="list-disc list-inside text-slate-700 space-y-1 text-sm mb-4">
                        <li><strong>Medical Dosimetrists & Physicists:</strong> Work with the Radiation Oncologist.</li>
                        <li><strong>Contouring:</strong> Target volume and critical organs are outlined on simulation images.</li>
                        <li><strong>Plan Creation:</strong> Software used to determine optimal beam angles, energy, and intensity.</li>
                        <li><strong>Dose Calculation:</strong> Physicists verify calculations and plan safety.</li>
                        <li><strong>Plan Review & Approval:</strong> By Radiation Oncologist and Physicist.</li>
                    </ul>
                    <div class="interactive-question-block mt-6 bg-purple-50 p-3 rounded-md border border-purple-200" id="q_page4_1">
                        <p class="question-text font-semibold text-slate-700 mb-2">Quick Check: Who designs the technical plan and calculates dose distributions?</p>
                        <label class="block mb-1 p-2 rounded hover:bg-purple-100 cursor-pointer"><input type="radio" name="q_page4_1_ans" value="A" class="mr-2 accent-purple-600"> RTTs & Nurses</label>
                        <label class="block mb-1 p-2 rounded hover:bg-purple-100 cursor-pointer"><input type="radio" name="q_page4_1_ans" value="B" class="mr-2 accent-purple-600"> Dosimetrists & Physicists</label>
                        <label class="block mb-1 p-2 rounded hover:bg-purple-100 cursor-pointer"><input type="radio" name="q_page4_1_ans" value="C" class="mr-2 accent-purple-600"> Radiation Oncologist only</label>
                        <div class="explanation-text text-sm text-slate-600 mt-2 p-2 bg-purple-50 rounded" style="display:none;">Correct! Dosimetrists and Physicists design the technical plan based on the Oncologist's prescription.</div>
                    </div>
                    <button class="check-page-answers-button mt-3 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors text-sm" onclick="checkPageAnswer('q_page4_1', 'B')">Check Answer</button>
                </div>

                <div id="lesson-page-5" class="lesson-page bg-white p-4 sm:p-5 rounded-md border border-purple-200 min-h-[480px]">
                    <h3 class="text-xl font-semibold text-purple-700 mb-3">Page 5: Stage 4 - Treatment Delivery (The Daily Process)</h3>
                    <p class="text-slate-700"><span class="highlight">Treatment Delivery</span> is the daily administration of radiation by RTTs.</p>
                    <h4 class="text-lg font-medium text-purple-600 my-2">Key Activities:</h4>
                    <ul class="list-disc list-inside text-slate-700 space-y-1 text-sm mb-4">
                        <li><strong>Daily Patient Setup:</strong> Precise positioning using marks and immobilization devices.</li>
                        <li><strong>Image Guidance (IGRT):</strong> Verifying target position before treatment with on-board imaging.</li>
                        <li><strong>Operating Linac:</strong> Delivering prescribed dose from the control console.</li>
                        <li><strong>Patient Monitoring:</strong> Via cameras and audio.</li>
                        <li><strong>Record Keeping:</strong> Meticulous documentation of each treatment.</li>
                    </ul>
                    <p class="note">Treatments are typically daily (Mon-Fri) for several weeks.</p>
                </div>
                
                <div id="lesson-page-6" class="lesson-page bg-white p-4 sm:p-5 rounded-md border border-purple-200 min-h-[480px]">
                    <h3 class="text-xl font-semibold text-purple-700 mb-3">Page 6: Stage 5 - On-Treatment Monitoring & Management</h3>
                    <p class="text-slate-700">Patients are regularly monitored throughout their treatment course.</p>
                    <h4 class="text-lg font-medium text-purple-600 my-2">Key Aspects:</h4>
                    <ul class="list-disc list-inside text-slate-700 space-y-1 text-sm mb-4">
                        <li><strong>Regular Check-ups:</strong> Weekly (or more frequent) visits with the Oncologist/Nurse.</li>
                        <li><strong>Side Effect Assessment:</strong> Managing any side effects.</li>
                        <li><strong>Patient Support:</strong> Addressing questions and providing emotional/educational support.</li>
                        <li><strong>Plan Adaptation:</strong> Possible if significant anatomical changes occur.</li>
                    </ul>
                    <p class="note">RTTs also observe patients daily and report concerns.</p>
                     <div class="interactive-question-block mt-6 bg-purple-50 p-3 rounded-md border border-purple-200" id="q_page6_1">
                        <p class="question-text font-semibold text-slate-700 mb-2">Quick Check: What is a primary reason for weekly on-treatment visits?</p>
                        <label class="block mb-1 p-2 rounded hover:bg-purple-100 cursor-pointer"><input type="radio" name="q_page6_1_ans" value="A" class="mr-2 accent-purple-600"> To re-do the simulation scan.</label>
                        <label class="block mb-1 p-2 rounded hover:bg-purple-100 cursor-pointer"><input type="radio" name="q_page6_1_ans" value="B" class="mr-2 accent-purple-600"> To assess and manage side effects.</label>
                        <label class="block mb-1 p-2 rounded hover:bg-purple-100 cursor-pointer"><input type="radio" name="q_page6_1_ans" value="C" class="mr-2 accent-purple-600"> To discuss payment options.</label>
                        <div class="explanation-text text-sm text-slate-600 mt-2 p-2 bg-purple-50 rounded" style="display:none;">Correct! Weekly visits are crucial for side effect management and patient support.</div>
                    </div>
                    <button class="check-page-answers-button mt-3 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors text-sm" onclick="checkPageAnswer('q_page6_1', 'B')">Check Answer</button>
                </div>

                <div id="lesson-page-7" class="lesson-page bg-white p-4 sm:p-5 rounded-md border border-purple-200 min-h-[480px]">
                    <h3 class="text-xl font-semibold text-purple-700 mb-3">Page 7: Stage 6 - Follow-Up (Post-Treatment Care)</h3>
                    <p class="text-slate-700">After treatment completion, patients enter the <span class="highlight">Follow-Up</span> phase.</p>
                    <h4 class="text-lg font-medium text-purple-600 my-2">Key Aspects:</h4>
                    <ul class="list-disc list-inside text-slate-700 space-y-1 text-sm mb-4">
                        <li><strong>Scheduled Appointments:</strong> Regular visits with the Radiation Oncologist.</li>
                        <li><strong>Monitoring Long-Term Effects:</strong> Assessing and managing late side effects.</li>
                        <li><strong>Evaluating Efficacy:</strong> Checking treatment response, often with imaging.</li>
                        <li><strong>Surveillance for Recurrence:</strong> Watching for signs of cancer returning.</li>
                        <li><strong>Coordination of Care:</strong> With other physicians involved in the patient's care.</li>
                    </ul>
                    <p class="note">Long-term follow-up is essential for comprehensive cancer care.</p>
                </div>

                <div id="lesson-page-8" class="lesson-page bg-white p-4 sm:p-5 rounded-md border border-purple-200 min-h-[480px]">
                    <h3 class="text-xl font-semibold text-purple-700 mb-3">Page 8: Summary & Activity</h3>
                    <p class="text-slate-700">The patient's RT journey involves these key stages:</p>
                    <ol class="list-decimal list-inside text-slate-700 space-y-1 text-sm mb-4 font-semibold">
                        <li>Consultation</li>
                        <li>Simulation</li>
                        <li>Dosimetry Planning</li>
                        <li>Treatment Delivery</li>
                        <li>On-Treatment Monitoring</li>
                        <li>Follow-Up</li>
                    </ol>
                    <p class="text-slate-700">Understanding this flow is key to appreciating the patient experience and team collaboration.</p>
                    <h4 class="text-lg font-medium text-purple-600 mt-6 mb-2">Activity Suggestion:</h4>
                    <p class="text-slate-700">Test your understanding with the "Patient Journey Sequencing Activity"!</p>
                    <div class="mt-6 text-center">
                        <a href="patient_journey_sequencer_activity.html" class="activity-link-button">
                            Go to Journey Sequencer Activity
                        </a>
                    </div>
                </div>

                <div class="lesson-navigation-bar text-center mt-6">
                    <button id="prevLessonPage" onclick="changeLessonPage(-1)" disabled class="bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-purple-600 transition-colors disabled:bg-slate-300 text-sm">Previous Page</button>
                    <button id="backToMenuButton" onclick="goBackToPatientCareMenu()" style="display:none;" class="bg-slate-500 text-white py-2 px-4 rounded-lg hover:bg-slate-600 transition-colors text-sm">Back to Patient Care Menu</button>
                    <span class="page-indicator mx-2 sm:mx-4 text-sm text-slate-600" id="lessonPageIndicator">Page 1 of 8</span>
                    <button id="nextLessonPage" onclick="changeLessonPage(1)" class="bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-purple-600 transition-colors text-sm">Next Page</button>
                </div>
            </div>

            <div class="print-button-container text-center mt-8">
                <button onclick="window.print()" class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-6 rounded-lg text-sm transition-colors">Print Lesson</button>
            </div>
        </div>
    </main>

    <footer class="bg-slate-800 text-slate-300 py-6 mt-auto text-center">
        <div class="container mx-auto px-6">
            <p class="text-sm">&copy; <span id="currentYear"></span> RTApps. All Rights Reserved.</p>
            <p class="text-xs mt-1">The Patient's Journey in Radiation Therapy</p>
        </div>
    </footer>

    <script>
        let currentLessonPage = 1;
        const totalLessonPages = 8; 
        const lessonPages = document.querySelectorAll('.lesson-page');
        const prevLessonButton = document.getElementById('prevLessonPage');
        const nextLessonButton = document.getElementById('nextLessonPage');
        const backToMenuButton = document.getElementById('backToMenuButton');
        const lessonPageIndicator = document.getElementById('lessonPageIndicator');
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        const lessonCorrectAnswers = {
            'q_page2_1': 'B',
            'q_page4_1': 'B',
            'q_page6_1': 'B'
        };

        function displayLessonPage() {
            lessonPages.forEach((page, index) => {
                page.style.display = (index === currentLessonPage - 1) ? 'block' : 'none';
            });
            prevLessonButton.disabled = currentLessonPage === 1;
            if (currentLessonPage === totalLessonPages) {
                nextLessonButton.style.display = 'none';
                if (backToMenuButton) backToMenuButton.style.display = 'inline-block';
            } else {
                nextLessonButton.style.display = 'inline-block';
                if (backToMenuButton) backToMenuButton.style.display = 'none';
            }
            lessonPageIndicator.textContent = `Page ${currentLessonPage} of ${totalLessonPages}`;
        }

        function changeLessonPage(direction) {
            currentLessonPage += direction;
            displayLessonPage();
        }

        function goBackToPatientCareMenu() {
            // This function will navigate to the index.html within the Patient_Care folder
            window.location.href = 'index.html'; 
        }

        function checkPageAnswer(questionBlockId, correctAnswerValue) {
            const questionBlock = document.getElementById(questionBlockId);
            if (!questionBlock) return;
            const selectedRadio = questionBlock.querySelector(`input[name="${questionBlockId}_ans"]:checked`);
            const explanationDiv = questionBlock.querySelector('.explanation-text');
            
            questionBlock.classList.remove('correct-answer-feedback', 'incorrect-answer-feedback');
            questionBlock.querySelectorAll('label').forEach(label => {
                label.classList.remove('font-semibold', 'text-green-700', 'text-red-700');
                const indicator = label.querySelector('.correct-indicator, .incorrect-indicator');
                if(indicator) indicator.remove();
            });
            if (explanationDiv) explanationDiv.style.display = 'none';

            if (selectedRadio) {
                const userAnswer = selectedRadio.value;
                const userSelectedLabel = selectedRadio.parentElement;
                if (userAnswer === correctAnswerValue) {
                    questionBlock.classList.add('correct-answer-feedback');
                    userSelectedLabel.classList.add('font-semibold', 'text-green-700');
                    const indicator = document.createElement('span');
                    indicator.className = 'correct-indicator';
                    userSelectedLabel.appendChild(indicator);
                } else {
                    questionBlock.classList.add('incorrect-answer-feedback');
                    userSelectedLabel.classList.add('font-semibold', 'text-red-700');
                    const indicator = document.createElement('span');
                    indicator.className = 'incorrect-indicator';
                    userSelectedLabel.appendChild(indicator);
                    const correctRadio = questionBlock.querySelector(`input[name="${questionBlockId}_ans"][value="${correctAnswerValue}"]`);
                    if (correctRadio && correctRadio.parentElement) {
                        correctRadio.parentElement.classList.add('font-semibold', 'text-green-700');
                        const correctIndicator = document.createElement('span');
                        correctIndicator.className = 'correct-indicator';
                        correctRadio.parentElement.appendChild(correctIndicator);
                    }
                }
            } else { 
                questionBlock.classList.add('incorrect-answer-feedback');
                const correctRadio = questionBlock.querySelector(`input[name="${questionBlockId}_ans"][value="${correctAnswerValue}"]`);
                if (correctRadio && correctRadio.parentElement) {
                    correctRadio.parentElement.classList.add('font-semibold', 'text-green-700');
                     const correctIndicator = document.createElement('span');
                     correctIndicator.className = 'correct-indicator';
                     correctRadio.parentElement.appendChild(correctIndicator);
                }
            }
            if (explanationDiv) explanationDiv.style.display = 'block';
        }
        
        displayLessonPage();
    </script>
</body>
</html>
